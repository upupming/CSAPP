5.13

A. 

先根据机器代码参照图5-13画出数据流图。
下图中`|`、`-`代表连线，`+`代表连接点，`>`表示指向。

     #######前一次迭代产生的寄存器值########
     #%rbp|%rcx|%rax|%rbx|%xmm1|%xmm0|
     ##|####|####|####|#####################
       +----|----|----|----------|--->#    #
       |    +----|----|----------|--->#load#      vmovad 0(%rbp,%rcx,8),%xmm1
       |    |    |    |    +-----|----#    #
       |    |    |    |    |     |    ######
       |    +----|----|----------|--->#    #
       |    |    |    |    |     |    #load#---+  vmulsd (%rax,%rcx,8), ...
       |    |    +----|----------|--->#    #   |
       |    |    |    |    |     |    ######   |  
       |    |    |    |    +-----|--->#    #<--+
       |    |    |    |          |    #mul #      vmulsd ..., %xmm1, %xmm1
       |    |    |    |    +-----|----#    #
       |    |    |    |    |     |    ######
       |    |    |    |    +-----|--->#    #
       |    |    |    |    |     +--->#add #      vaddsd %xmm1,%xmm0,%xmm0
       |    |    |    |    |     +----#    #
       |    |    |    |    |     |    ######
       |    +----|----|----------|--->#    #
       |         |    |    |     |    #add #      addq $1, %rcx
       |    +----|----|----------|----#    #
       |    |    |    |    |     |    ######
       |    +----|----|----------|--->#    #
       |    |    |    |    |     |    #cmp #---+  cmpq %rbx, %rcx
       |    |    |    +----|-----|--->#    #   |
       |    |    |    |    |     |    ######   |
       |    |    |    |    |     |    #    #   |
       |    |    |    |    |     |    #jne #<--+  jne .L15
       |    |    |    |    |     |    #    #
       |    |    |    |    |     |    ######
       v    v    v    v    v     v
     |%rbp|%rcx|%rax|%rbx|%xmm1|%xmm0| 
     #######产生用于下一次迭代的寄存器值####

再参照图5-14去掉不属于某个循环寄存器之间的相关链，得到关键路径。

          ######                      #######
          #%rcx#                      #%xmm0#
          ##|###                      ##|####
            |                           |
            |     ######                |  <--------- 关键路径
            +---->#load#------+         |
            |     ######      |         |
            |                 v         v
            |     ######    ######    ######
            +---->#load#--->#mul #--->#add #
            |     ######    ######    ######
            |                           |
            |                           |
            v                           |
          ######                        |
          #add #                        |
          ######                        |
            |                           |
            v                           v
          ######                      #######
          #%rcx#                      #%xmm0#
          ######                      #######

可以看到：左边是整数加法，延迟为1个周期；右边是浮点加法，延迟为3个周期。
右边的链是关键路径。

B. 

浮点加法决定了CPE下界为3.00。

C. 

整数加法决定了CPE下界为1.00。

D. 

乘法操作不在关键路径上，CPE下界由关键路径上的浮点加法操作决定。


